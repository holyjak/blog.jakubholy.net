{:title
 "RAD, WAS 6 Test Env and J2EE security: getting rid of “No received or invocation credential exist on the thread”",
 :date "2006-11-24",
 :layout :post,
 :tags ["security" "java" "methodology"],
 :tags-orig ["development" "IDE" "javaEE" "security"],
 :categories ["eclipse" "WebSphere"],
 :extra-css #{}
}

++++
Recently I started a new J2EE project that required j2ee security. Unfortunately Rational app. Developer 6 seemed to have some problems running a WAS Test Environment in this way, at least with the default setup. I encountered 2 problems:<br />
<ol>
<li>RAD wasn't able to connect to the server at all, throwing some security exceptions. <br />The solution (or rather work-around) was to switch the "Server connection type.." in the server's configuration in RAD from RMI to SOAP. It seems that RMI doesn§t support authetification. <br /></li>
<li>After that, everything seemed to be ok, but an error was logged every few seconds with the cause "<span style="font-family:Courier New,Courier,mono;">No received or invocation credential exist on the thread</span>". The stack trace pointed to a MBean (a part of JMX) being contacted via RMI. <br />Work-around: Disable an RMIConnector for JMX in WAS Console: log in, go to <br />Application servers &gt; server1 &gt; Administration&nbsp; &gt; Administration Services &gt; JMX connectors<br />And delete the RMIConnector - make first sure that you don't need it.<br /></li></ol>BTW, to enable the security, I enabled it first on the server via WAS admin console and then I created a new server configuration in RAD and set it to use security.<br /><br />Stack trace for issue 2:<br style="font-family:Courier New,Courier,mono;" /><span style="font-family:Courier New,Courier,mono;">com.ibm.ws.security.role.RoleBasedAuthorizerImpl.checkAccess(RoleBasedAuthorizerImpl.java(Compiled Code)) at com.ibm.ws.management.AdminServiceImpl.preInvoke(AdminServiceImpl.java:1696) at com.ibm.ws.management.AdminServiceImpl.preInvoke(AdminServiceImpl.java:1603) at com.ibm.ws.management.AdminServiceImpl.preInvoke(AdminServiceImpl.java:1533) at com.ibm.ws.management.AdminServiceImpl.preInvoke(AdminServiceImpl.java:1506) at com.ibm.ws.management.AdminServiceImpl.getAttribute(AdminServiceImpl.java:501) at com.ibm.ws.management.connector.AdminServiceDelegator.getAttribute(AdminServiceDelegator.java:99) at com.ibm.ws.management.connector.rmi.RMIConnectorService.getAttribute(RMIConnectorService.java:123) at com.ibm.ws.management.connector.rmi._RMIConnectorService_Tie.getAttribute(_RMIConnectorService_Tie.java:193) at com.ibm.ws.management.connector.rmi._RMIConnectorService_Tie._invoke(_RMIConnectorService_Tie.java:87) at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:608) at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:461) at com.ibm.rmi.iiop.ORB.process(ORB.java:432) at com.ibm.CORBA.iiop.ORB.process(ORB.java:1728) at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2229) at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:65) at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:95) at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java(Compiled Code)) .&nbsp; </span><br />
++++
