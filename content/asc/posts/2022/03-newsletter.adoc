{:title "Holy Dev Newsletter March 2022"
 :hide-from-home? true
 :date "2022-03-31"
 :tags ["newsletter"]}

Welcome to the Holy Dev newsletter, which brings you gems I found on the web, updates from my blog, and a few scattered thoughts. You can get the next one into your mailbox if you link:/me/subscribe[subscribe].

== What I am watching
I have been long interested in formal methods and better way to make sure that our algorithms and code are correct. TLA+ is a popular high-level language for modeling and testing the design of algorithms and this free TLA+ video course by its father and Turing Award winner Leslie Lamport is really
TLA+
By Leslie Lamport (won the Turing Award)
Approachable, engaging, motivating.

- TLA+ is ‚ÄúA language for high-level modeling of digital systems.‚Äù [such as altos, programs] & has tools for checking those models, primarily the TLC model checker
- Model as a state machine
- Model at a higher level to check your design (algorithm, ‚Ä¶)
- ‚ÄúTLA+ is an elegant, expressive language for describing state machines.‚Äù
- ‚ÄúFor concurrent and distributed systems, if you design them and care if they work, you should use TLA+‚Äù
- ‚ÄúTLA+ will teach you to be better at abstraction.‚Äù
- Brannon Batson said ¬±-: The hard part of learning to write TLA+ specs is learning to think abstractly about the system.

== Fulcro
I am working on adding a plugin for the open-source graph database https://github.com/quoll/asami/[Asami] to Fulcro's https://github.com/fulcrologic/fulcro-rad[Rapid Application Development addon], so that you can use a flexible, embedded, in-memory or on-disk database for your RAD projects. I hope to have an alpha version finished soon.

== Other
I have released a https://github.com/cljdoc/cljdoc-check-action/[GitHub Action CljDoc Check] that runs the https://cljdoc.org/[CljDoc] analyzer (read the https://clojurians.slack.com/archives/C06MAR553/p1646690312177409[announcement in Slack]) on your code to verify that cljdoc will be able to import it and display its API docs. I have also added it to Fulcro (currently for PRs only).

== Gems from the world wide web
++++
<p><span class="link">üëì <a href="https://github.com/KingMob/TrueGrit">KingMob/TrueGrit: A data-driven, functionally-oriented, idiomatic Clojure library for using Resilience4j.</a> [clojure, library, performance]</span><br /><span style="white-space: pre-line;">A data-driven, functionally-oriented, idiomatic Clojure library for using Resilience4j, the top Java library for robust systems. Includes circuit breakers, bulkheads, retry policies, timeouts and rate limiters. It‚Äôs been battle-tested in production for years.</span></p><p><span class="link">üëì <a href="https://filebase.com/">S3 Compatible Object Storage Powered by Web3</a> [web3, SaaS, data storage]</span><br /><span style="white-space: pre-line;">An alternative to AWS S3 for file storage based on web3 technologies (such as <a href="https://sia.tech/">Sia</a> and IPFS), encrypted and geo-redundant. 5GB for free and 1TB of storage+transfer for $6/month (S3 costs ¬± $23 for storage only).</span></p><p><span class="link">üëì <a href="https://franz.hamburg/writing/clojure-first-impressions.html">Clojure - First Impressions</a> [clojure, experience]</span><br /><span style="white-space: pre-line;">Interesting, short read by Franz Neubert. Switching from Scala to Clojure, one month in and getting good handle of things. Simpler, more obvious (but slightly more repetitive). Missing static typing a little but REPL and tests make up for it. REPL being the most valuable tool. Fast feedback loop, restartless. "There isn't anything I don't like about Clojure."</span></p><p><span class="link">üëì <a href="https://corecursive.com/009-throw-away-the-irrelevant-with-john-a-de-goes/">Throwaway the Irrelevant - CoRecursive Podcast</a> [software development, functional programming, opinion]</span><br /><span style="white-space: pre-line;">A podcast with a transcript about multiple topics, including general x specialized code, from the perspective of Haskell & friends. One reason for writing more general, polymorphic code is that you know less about the input and thus can do less to it =></span><br /><span style="white-space: pre-line;">> [..] you make it harder  to introduce bugs by cutting down on the size of the implementation  space, but you also make the code much more reusable. [..] you‚Äôre still making it harder for that function to go wrong.</span><br /><span style="white-space: pre-line;">> So, polymorphism is how we throw details out of our implementation space  to constrain the space of implementations and to make our code much  more reusable and easier to get correct. And then, principled type classes [JH: ~ minimal types leveraging algebraic principles] are how we add structure back in,  just enough structure to be able to solve the problem at hand, no more.</span><br /><span style="white-space: pre-line;">Though thinking at a higher level of abstraction / polymorphism and reading such code is a skill that needs to be learned.</span><br /><span style="white-space: pre-line;">Idea: more abstract/polymorphic return types instead of concrete ones, just something that satisfies a set of rules and the concrete implementation is picked later, when we know the wider context => fewer conversions like Rust's Option <> Result etc. </span><br /><span style="white-space: pre-line;">And soem stuff about Scala and monads :)</span><br /><span style="white-space: pre-line;">(Via Fredrik R. Thanks!)</span></p><p><span class="link">üëì <a href="https://lib.rs/crates/oha">oha ‚Äî Rust application // Lib.rs</a> [rust, tool, performance] - <q>Ohayou(„Åä„ÅØ„Çà„ÅÜ), HTTP load generator, inspired by rakyll/hey with tui animation | Rust/Cargo package</q></span><br /><span style="white-space: pre-line;">HTTP load generator work a nice textual UI and progress indicator, written in Rust. </span></p><p><span class="link">üëì <a href="https://echarts.apache.org/">Apache ECharts</a> [data visualization, library, javascript]</span><br /><span style="white-space: pre-line;"><a href="https://www.clearpeaks.com/apache-echarts/">According to ClearPeaks</a>: Apache ECharts is one of the most advanced frameworks for building charts and visualisations, simplifying the inclusion of highly customisable charts [..]. ECharts comes with ready-to-use interactive components to perform  operations such as multi-dimensional data screening and zoom-in zoom-out  views, and it can also display any kind of text, image, or shape. With  the visualMap component, it‚Äôs possible to map data of different  dimensions to colour, size, transparency, shading, etc. thanks to its  rich visual coding. ECharts can present a visualisation of huge amounts of data by using an  incremental rendering approach and optimising all aspects. Furthermore,  interactions such as scaling and morphing are all fluid. Data can be delivered incrementally via WebSockets. Almost 40 different types of charts including maps/geo. High performance. Mobile-friendly UX. Declarative. Support for <a href="https://echarts.apache.org/en/tutorial.html#Events%20and%20Actions%20in%20ECharts">custom event handlers</a>. Can render into both Canvas and SVG. Server-side rendering (on Node.js, into an SVG).</span><br /><span style="white-space: pre-line;">Apache ECharts is an intuitive, interactive, and powerful charting and visualization library ideally suited for commercial-grade presentations. The project originated in 2013 at Baidu and entered the Apache Incubator in January 2018, graduating from it in 2021. It is also being used in <a href="https://superset.apache.org">Apache Superset</a>, the data exploration and visualization platform.</span><br /><span style="white-space: pre-line;">Cons: The English API docs seem not to have been updated for v5 in a year.</span></p><p><span class="link">üëì <a href="https://github.com/lambdaisland/cljbox2d">lambdaisland/cljbox2d</a> [clojure, library, clojurescript]</span><br /><span style="white-space: pre-line;">Idiomatic (data instead of imperative API) and cross-platform Clojure/Script version of the Box2D physics engine  API. You most likely want to combine it with a graphics library to show something on the screen. We bundle some helpers to get you started on <a href="http://quil.info/">Quil</a> or <a href="https://github.com/Clojure2D/clojure2d">Clojure2D</a>. The Clj backend <a href="http://www.jbox2d.org/">jBox2D</a> can do a lot, including Rigid body physics, Gravity, Persistent contact solver, Sliding friction, Boxes, circles, edges and polygons, Motors, Continuous collision detection, Liquid particle simulation. The Cljs backend <a href="https://piqnt.com/planck.js/">Planck.js</a>'s site is also revealing.</span></p><p><span>üé• <a href="https://www.youtube.com/watch?v=5mbp3SEha38">Gene Kim on how Clojure and Datomic made him a happy programmer again. He is a great speaker and it is a delightful, lightweight...</a></span><br /><span style="white-space: pre-line;">Gene Kim on how Clojure and Datomic made him a happy programmer again. He is a great speaker and it is a delightful, lightweight talk. Includes SQL horror stories.</span></p><p><span class="link">üëì <a href="https://www.ladle.dev/blog/introducing-ladle/">Introducing Ladle | Ladle</a> [tool, javascript, productivity]</span><br /><span style="white-space: pre-line;">Ladle by Uber is a would-be successor to (and drop-in replacement for) Storybook with focus on much better performance (production build time, dev start time) and with other improvements such as simpler usage (a single package and command). It achieves that e.g. by leveraging native browser support for ES Modules (and ditching Webpack in favour of Vite).</span><br /><span style="white-space: pre-line;">Storybook and Ladle are tools for testing and showcasing React components in isolation, with their various states and settings.</span></p><p><span class="link">üëì <a href="https://github.com/jarohen/chord">jarohen/chord: A library designed to bridge the gap between the triad of CLJ/CLJS, web-sockets and core.async.</a> [clojure, library, clojurescript]</span><br /><span style="white-space: pre-line;">A core.async channel over websockets (the backend via http-kit). Support for encoding messages with Transit, EDN, Fressian, JSON, raw strings.</span></p><p><span class="link">üëì <a href="http://tea-lang.org">Tea | Automated Statistical Analysis</a> [statistics, data analysis]</span><br /><span style="white-space: pre-line;">A Python library and DSL for testing hypothesis on data, where Tea itself infers the applicable, valid statistical tests to apply. (Currently it can do Null Hypothesis Significance Testing but <a href="https://github.com/tea-lang-org/tea-lang#what-kinds-of-statistical-analyses-are-possible-with-tea">more kinds of analyses are coming</a>.) You load the data (e.g. from CSV), describe the variables in the data (type: nominal, range, ...), describe your assumptions about the data (such as normal distribution of some variables), how it was collected (e.g. observational study or experiment), the independent/dependent variables, and the hypothesis (e.g. that the probability of a particular outcome is higher for a particular value of an independent variable) - <a href="https://gist.github.com/emjun/89d3658fe59042b9da784fc21b7f3e9f#file-tea_example_0-1-ipynb">see this demo</a>.</span><br /><span style="white-space: pre-line;">I could not find documentation other than <a href="https://github.com/emjun/tea-lang/tree/master/examples">community examples</a> but perhaps there are API docs in the library. It is possible that <a href="http://tea-lang.org/index_files/tea_UIST2019.pdf">the paper on Tea</a> is intended as the main reference. There is also a 2019 <a href="https://youtu.be/eyoAqNKTjGQ">talk on Tea</a> and there is a discussion forum.</span></p><p><span class="link">üëì <a href="https://github.com/fmnoise/flow">fmnoise/flow: Functional (and opinionated) errors handling in Clojure</a> [clojurescript, clojure, library] - <q>Functional (and opinionated) errors handling in Clojure - GitHub - fmnoise/flow: Functional (and opinionated) errors handling in Clojure</q></span><br /><span style="white-space: pre-line;">Error handling with early return for transformation pipelines. Works with standard threading macros, using custom wrappers for each step that check for Exception vs anything else. A couple of helpers for catching, producing, and dealing with exceptions (including the stack trace-less and thus cheap custom Failure). Similar to failjure to some extent.</span><br /><span style="white-space: pre-line;">Ex.: (->> (check-user req) (then (fn [_] (check-entity-id req))) (then #(check-entity-exists db %)) (then #(check-entity-access % (:user req))) (then #(update-entity! % (:params req))) (else format-error)))</span></p><p><span class="link">üëì <a href="https://github.com/steffan-westcott/clj-otel">steffan-westcott/clj-otel: An idiomatic Clojure API for adding telemetry to your libraries and applications using OpenTelemetry.</a> [devops, clojure, library, monitoring]</span></p><p><span class="link">üëì <a href="https://7guis.bradwoods.io/">7GUI tasks implemented in plain JS</a> [webdev, comparison, framework]</span><br /><span style="white-space: pre-line;">7GUIs¬†(7 Graphical User Interfaces) is a programming benchmark to compare implementations in terms of their notation. 7GUIs defines 7 tasks that represent typical challenges in GUI programming. This site implements the 7 tasks using vanilla¬†<strong>HTML</strong>,¬†<strong>CSS</strong>¬†&¬†<strong>JavaScript</strong></span></p><p><span class="link">üëì <a href="https://epiccastle.io/blog/hot-loading-wasm/">Epic Castle</a> [wasm, clojurescript, productivity]</span><br /><span style="white-space: pre-line;"><strong>Hot loading C wasm with heap preservation</strong><br /></span><br /><span style="white-space: pre-line;">Hot loading C wasm into the browser while preserving the state of the heap - let the browser code (here ClojureScript) manage the WASM heap so that it survives reloads of the wasm code.</span></p><p><span class="link">üëì <a href="https://github.com/barracudanetworks/lighthouse">barracudanetworks/lighthouse: A data-driven Kubernetes pre-processor</a> [devops, tool]</span><br /><span style="white-space: pre-line;">Generate Kubernetes manifests by combining EDN data instead of templating YAML. Lighthouse takes the approach of using EDN data structures in a directory tree with simple inheritance rules to support generating manifests in a flexible and reliable manner.</span></p><p><span class="link">üëì <a href="https://github.com/liquidz/dad">liquidz/dad: Small configuration management tool for Clojure</a> [devops, tool, clojure]</span><br /><span style="white-space: pre-line;">A simple configuration management tool for Linux/Mac, available as a binary or a Babashka pod. It can create directories and files (possibly from templates), download, execute commands, execute git, install packages (via Homebrew on Mac). You can and use your own (idempotent!) functions.</span></p><p><span class="link">üëì <a href="https://fly.io/">Deploy app servers close to your users ¬∑ Fly</a> [devops, paas]</span><br /><span style="white-space: pre-line;">A newish (2017) app deployment platform, somewhat similar to Heroku, but <a href="https://fly.io/docs/introduction/">smarter</a> - the application is started/moves to the location nearest to the current user demand, scaling the app up and down (vertically and horizontally) as necessary. You can deploy one of the supported app types (Go, Node, Remix, ..) or any Docker container using either their CLI or the web interface. The VMs can use a persistent storage and Fly can also run a clustered PostgreSQL for your app. Apps within an organization can communicate over a private network (and you can ssh into any!). An interesting, multi-national <a href="https://fly.io/about/">team</a>, cheap <a href="https://fly.io/docs/about/pricing/">pricing</a> with a free tier. You can read about Fly's <a href="https://fly.io/docs/reference/architecture/">architecture</a> (and their use of Firecracrer MicroVMs, Rust, and WireGuard VPN).</span><br /><span style="white-space: pre-line;"><blocquote>We make it easy to run full-stack apps‚Äîany app, in any framework‚Äîclose  to your users. We're a simple and powerful way to run any application,  with modern dev UX, advanced Postgres deployments with replication, and  app scaling knobs that don't require you to learn Terraform to use. But  we're especially shiny for frameworks that benefit from geographic  distribution.</blocquote></span></p><p><span class="link">üëì <a href="https://github.com/ribelo/fatum">ribelo/fatum</a> [clojure, library, clojurescript]</span><br /><span style="white-space: pre-line;">Another Clojure/Script library for working with errors as data in pipelines, inspired by <a href="https://github.com/fmnoise/flow/">flow</a> and <a href="https://github.com/adambard/failjure#attempt">failjure</a>, using a cheap, stacktrace-less Exception to represent errors. Example:</span><br /><span style="white-space: pre-line;">(defn create-user "completely meaningless but well nested code"  [req]
(-> req
  (f/fail-if {:staus 500} "something went wrong")
  (f/fail-if {:staus 404} "something went even worse")
  (f/then-if {:status 200} (comp make-user :body))
  (f/fail-if (complement valid-user?) "invalid user" (partial array-map :user))
  (f/then (partial update-db :add-user))
  (f/fail-if (complement :success?) #(find % :message))
  (f/maybe-throw)))</span></p><p><span class="link">üëì <a href="https://github.com/phronmophobic/dewey">phronmophobic/dewey: Index of Clojure libraries available on github.</a> [clojure, tool]</span><br /><span style="white-space: pre-line;">Index of Clojure libraries available on GitHub, for including in a project as a git dependency in deps.edn. Machine-friendly.</span></p><p><span class="link">üëì <a href="https://github.com/Liverm0r/robot">Liverm0r/robot: Clojure wrapper to simplify writing desktop scripts with java.awt Robot and Clipboard</a> [clojure, tool, productivity, automation]</span><br /><span style="white-space: pre-line;">Clojure wrapper fro java.awt.Robot for desktop manupulation - you can type keys / special keys / text ‚å®Ô∏è, copy & paste using the clipboard, move / read / click the mouse üêÅ, get a map of key codes to key names (char), get the color of a pixel. You could also use the Robot directly to take a screenshot. </span><br /><span style="white-space: pre-line;">An alternative to Babashka's <a href="https://github.com/babashka/obb">obb</a> for Mac automation, I guess, but cross-platform.</span></p><p><span class="link">üëì <a href="https://open-ui.org/">Home</a> [standard, webdev]</span><br /><span style="white-space: pre-line;">Interesting fledgling standardization effort. The purpose of Open UI to the web platform is to allow web developers to style and extend built-in web UI controls, such as <select> dropdowns, checkboxes, radio buttons, and date/color pickers - so that they can stop reinventing these to give designers full control over their appearance and behavior. Thus Open UI aims to fully specify the component parts, states, and behaviors of the built-in controls and provide test suits. Long term, they hope that Open UI will establish a standard process for  developing high-quality UI controls suitable for addition to the web  platform.</span><br /><span style="white-space: pre-line;">It can be also useful to look at <a href="https://open-ui.org/#research">their research</a> when designing a new UI element.</span></p><p><span class="link">üëì <a href="https://ultrajs.dev/">Ultra</a> [javascript, library, deno, reactjs]</span><br /><span style="white-space: pre-line;">A modern, full-stack JS/TS React 18 framework with streaming and <a href="https://deno.com/deploy">Deno Deploy</a> support. Uses ESM -> no bundling. Leverages Suspense and React 18' <a href="https://github.com/reactwg/react-18/discussions/37">Streaming HTML and Selective Hydration</a> so that (server-side rendered) parts of the app can load and become interactive in parallel, independently from each other. It uses <a href="https://github.com/vercel/swr">SWR</a> for easy to use data fetching and  the tiny <a href="https://github.com/molefrog/wouter">Wouter</a> for client & server-side routing. TypeScript and JSX.</span></p><p><span class="link">üëì <a href="https://kerkour.com/secure-programming-with-vscode-dev-containers">Secure and immutable development environments with Dev Containers</a> [security] - <q>&#34;But, it works on my machine&#34; &#34;If I install this NPM package, is it going to rm -rf / or infect me with a cryptominner?&#34; &#3</q></span><br /><span style="white-space: pre-line;">I find it always scary to install npm - or any other - packages that could include any evil code. A solution is to run your dev env in a sandbox. VS Code with its <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Remote - Containers</a> makes that simple and convenient - just add a file linking to a Dockerfile / image, what plugins to install, what ports to expose and open the project in Code, which will automatically offer to open it in the container. (Sylvain has also a good tip to run set up as root as Code needs but then switch to an unpriviledged user for increased security.)</span></p><p><span class="link">üëì <a href="https://www.microbit.org/">Micro:bit Educational Foundation</a> [kids, learning]</span><br /><span style="white-space: pre-line;">A Arduino-like micro-computer aimed at kids 7-11 / 11-14, supporting the graphical Scratch, Python, and <a href="https://www.microsoft.com/en-us/makecode">Microsoft MakeCode</a>, a free online learn-to-code platform. The micro:bit site offers a bunch of lessons and projects. There is a great selection of <a href="https://www.microbit.org/buy/accessories/">accessories</a> such as a speaker, LED display, motor, a tiny, <a href="https://kitronik.co.uk/collections/accessories-for-the-bbc-micro-bit/products/5683-kitronik-move-motor-for-the-bbc-micro-bit">sensor-equiped "car"</a> (that you stick microbit into), a lego-like crane.</span></p><p><span class="link">üëì <a href="https://www.hedycode.com/">Hedy - A gradual programming language</a> [kids, learning]</span><br /><span style="white-space: pre-line;">Hedy is a great bridge between a graphical coding environment such as Scratch and Python. Inspired by how we learn to write, it starts with a minimal syntax that becomes progresively more elaborate (but also powerful), as you progress. Both the site and language keywords can be switched to your native language - an often requested feature even by kids good in English. At the final level, you are essentilly writing Python. There is a bunch of exercises at each level - you can either do them all or stick to a few and evolve them from level to level.</span></p><p><span class="link">üëì <a href="https://www.tonic.ai/">Tonic.ai, The Fake Data Company</a> [tool, SaaS, testing, ai]</span><br /><span style="white-space: pre-line;">Via <a href="https://console.dev/">Console.dev</a>: Fake data platform.  Generates realistic fake data through analysis of the real data. Understands field types with a large range of generators e.g. addresses, cross-table sums, UUIDs, etc. Can implement differential privacy and statistical relationships between fields / foreign keys. Maintains consistency through constraints, cardinality and duplication. SaaS or on-prem. Generated data is exported directly to the source database - no option to download rather than export.</span></p><p><span class="link">üëì <a href="https://difftastic.wilfred.me.uk/">Introduction - Difftastic Manual</a> [tool]</span><br /><span style="white-space: pre-line;">Difftastic (<a href="https://github.com/wilfred/difftastic">source on GitHub</a>) is a diff tool that understands syntax. It supports over 20 languages including Clojure, CSS, Go, Java, JS + JSON, Rust, TS.</span></p><p><span class="link">üëì <a href="https://www.manning.com/books/the-programmers-brain">The Programmer's Brain</a> [book]</span><br /><span style="white-space: pre-line;">An interesting book (by the author of the Hedy educational programming language): "Your brain responds in a predictable way when it encounters new or difficult tasks. This unique book teaches you concrete techniques rooted in cognitive science that will improve the way you learn and think about code." It gets <a href="https://www.goodreads.com/book/show/57196550-the-programmer-s-brain">very positive reveiws</a>.</span></p>
++++

+++--+++

Thank you for reading!
